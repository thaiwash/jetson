define("discourse/plugins/discourse-data-explorer/discourse/initializers/initialize-data-explorer",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t={name:"initialize-data-explorer",initialize:function(e){e.lookup("store:main").addPluralization("query","queries"),String.prototype.endsWith||(String.prototype.endsWith=function(e,t){var n=this.toString();(void 0===t||t>n.length)&&(t=n.length),t-=e.length;e=n.indexOf(e,t);return-1!==e&&e===t})}};e.default=t}),define("discourse/plugins/discourse-data-explorer/discourse/models/query",["exports","discourse-common/utils/decorators","discourse-common/lib/get-url","discourse/models/rest"],function(e,t,n,s){"use strict";var r,a,l,o;function i(n,s,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(n,s,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(n,s,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var u=s.default.extend((r=(0,t.on)("init"),a=(0,t.on)("init"),l=(0,t.observes)("param_info"),o=(0,t.observes)("name","description","sql","group_ids"),s=(0,t.default)("id"),i(t={dirty:!1,params:{},results:null,_init:function(){this._super.apply(this,arguments),this.set("dirty",!1)},_initParams:function(){this.resetParams()},markDirty:function(){this.set("dirty",!0)},markNotDirty:function(){this.set("dirty",!1)},hasParams:Ember.computed.reads("param_info.length"),resetParams:function(){var n={},s=this.params;(this.param_info||[]).forEach(function(e){var t=e.identifier;s[e.identifier]?n[t]=s[t]:null!==e.default?n[t]=e.default:"boolean"===e.type?n[t]="false":n[t]=""}),this.set("params",n)},downloadUrl:function(e){return(0,n.default)("/admin/plugins/explorer/queries/".concat(e,".json?export=1"))},createProperties:function(){return this.sql?this.updateProperties():this.getProperties("name")},updateProperties:function(){var e=this.getProperties(u.updatePropertyNames);return this.destroyed&&(e.id=this.id),e}},"_init",[r],Object.getOwnPropertyDescriptor(t,"_init"),t),i(t,"_initParams",[a,l],Object.getOwnPropertyDescriptor(t,"_initParams"),t),i(t,"markDirty",[o],Object.getOwnPropertyDescriptor(t,"markDirty"),t),i(t,"downloadUrl",[s],Object.getOwnPropertyDescriptor(t,"downloadUrl"),t),t));u.reopenClass({updatePropertyNames:["name","description","sql","user_id","created_at","group_ids","last_run_at"]}),e.default=u}),define("discourse/plugins/discourse-data-explorer/discourse/routes/group-reports-index",["exports","discourse/lib/ajax","discourse/routes/discourse"],function(e,n,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=t.default.extend({controllerName:"group-reports-index",model:function(){var e=this,t=this.modelFor("group");return(0,n.ajax)("/g/".concat(t.name,"/reports")).then(function(e){return{model:e,group:t}}).catch(function(){return e.transitionTo("group.members",t)})},afterModel:function(e){e.group.get("is_group_user")||this.currentUser&&this.currentUser.admin||this.transitionTo("group.members",e.group)},setupController:function(e,t){e.setProperties(t)},actions:{refreshModel:function(){return this.refresh(),!1}}});e.default=t}),define("discourse/plugins/discourse-data-explorer/discourse/routes/admin-plugins-explorer",["exports","discourse/lib/ajax","discourse/models/user","discourse/routes/discourse"],function(e,n,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=t.default.extend({controllerName:"admin-plugins-explorer",model:function(){if(!s.default.currentProp("admin"))return{model:null,schema:null,disallow:!0,groups:null};var e=(0,n.ajax)("/admin/plugins/explorer/groups.json"),t=(0,n.ajax)("/admin/plugins/explorer/schema.json",{cache:!0}),r=this.store.findAll("query");return e.then(function(n){var s={};return n.forEach(function(e){s[e.id]=e.name}),t.then(function(t){return r.then(function(e){return e.forEach(function(e){e.markNotDirty(),e.set("group_names",(e.group_ids||[]).map(function(e){return s[e]}))}),{model:e,schema:t,groups:n}})})})},setupController:function(e,t){e.setProperties(t)},actions:{refreshModel:function(){return this.refresh(),!1}}});e.default=t}),define("discourse/plugins/discourse-data-explorer/discourse/routes/group-reports-show",["exports","discourse/lib/ajax","discourse/routes/discourse"],function(e,s,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=t.default.extend({controllerName:"group-reports-show",model:function(e){var t=this,n=this.modelFor("group");return(0,s.ajax)("/g/".concat(n.name,"/reports/").concat(e.query_id)).then(function(e){var t=e.query.param_info.reduce(function(e,t){return e[t.identifier]=t.default,e},{});return{model:Object.assign({params:t},e.query),group:n}}).catch(function(){t.transitionTo("group.members",n)})},setupController:function(e,t){e.setProperties(t)},actions:{refreshModel:function(){return this.refresh(),!1}}});e.default=t}),define("discourse/plugins/discourse-data-explorer/discourse/group-reports-route-map",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={resource:"group",map:function(){this.route("reports",function(){this.route("show",{path:"/:query_id"})})}}}),Ember.TEMPLATES["javascripts/modal/import-query"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"d-modal-body",null,[["title"],["explorer.import.modal"]],{"statements":[[0,"  "],[7,"form",false],[3,"action",[[23,0,[]],"dummy"],[["on"],["submit"]]],[8],[0,"\\n    "],[7,"div",true],[10,"class","modal-body"],[8],[0,"\\n      "],[1,[28,"json-file-uploader",null,[["value","extension"],[[24,["queryFile"]],".dcquery.json"]]],false],[0,"\\n    "],[9],[0,"\\n    "],[7,"div",true],[10,"class","modal-footer"],[8],[0,"\\n      "],[1,[28,"d-button",null,[["class","action","type","disabled","icon","label"],["btn-primary","doImport","submit",[24,["notReady"]],"plus","explorer.import.label"]]],false],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/modal/import-query"}}),Ember.TEMPLATES["javascripts/group-reports-show"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["err","pinfo"],"statements":[[7,"section",true],[10,"class","user-content"],[8],[0,"\\n  "],[7,"h1",true],[8],[1,[24,["model","name"]],false],[9],[0,"\\n  "],[7,"p",true],[8],[1,[24,["model","description"]],false],[9],[0,"\\n  "],[7,"form",false],[12,"class","query-run"],[3,"action",[[23,0,[]],"run"],[["on"],["submit"]]],[8],[0,"\\n"],[4,"if",[[24,["hasParams"]]],null,{"statements":[[0,"      "],[7,"div",true],[10,"class","query-params"],[8],[0,"\\n"],[4,"each",[[24,["model","param_info"]]],null,{"statements":[[0,"          "],[1,[28,"param-input",null,[["params","info"],[[24,["model","params"]],[23,2,[]]]]],false],[0,"\\n"]],"parameters":[2]},null],[0,"      "],[9],[0,"\\n"]],"parameters":[]},null],[0,"    "],[1,[28,"d-button",null,[["action","icon","label","class","type"],[[28,"action",[[23,0,[]],"run"],null],"play","explorer.run","btn-primary","submit"]]],false],[0,"\\n  "],[9],[0,"\\n  "],[1,[28,"conditional-loading-spinner",null,[["condition"],[[24,["loading"]]]]],false],[0,"\\n"],[4,"if",[[24,["results"]]],null,{"statements":[[0,"    "],[7,"div",true],[10,"class","query-results"],[8],[0,"\\n"],[4,"if",[[24,["showResults"]]],null,{"statements":[[0,"        "],[1,[28,"query-result",null,[["query","content","group"],[[24,["model"]],[24,["results"]],[24,["group"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"each",[[24,["results","errors"]]],null,{"statements":[[0,"          "],[7,"pre",true],[10,"class","query-error"],[8],[7,"code",true],[8],[1,[23,1,[]],false],[9],[9],[0,""]],"parameters":[1]},null]],"parameters":[]}],[0,"    "],[9],[0,"\\n"]],"parameters":[]},null],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/group-reports-show"}}),Ember.TEMPLATES["javascripts/connectors/group-reports-nav-item/nav-item"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[28,"group-reports-nav-item",null,[["group"],[[24,["group"]]]]],false]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/connectors/group-reports-nav-item/nav-item"}}),Ember.TEMPLATES["javascripts/explorer-query-result"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["row","col"],"statements":[[7,"div",true],[10,"class","result-info"],[8],[0,"\\n  "],[1,[28,"d-button",null,[["action","icon","label","group"],[[28,"action",[[23,0,[]],"downloadResultJson"],null],"download","explorer.download_json",[24,["group"]]]]],false],[0,"\\n  "],[1,[28,"d-button",null,[["action","icon","label","group"],[[28,"action",[[23,0,[]],"downloadResultCsv"],null],"download","explorer.download_csv",[24,["group"]]]]],false],[0,"\\n"],[9],[0,"\\n\\n"],[7,"div",true],[10,"class","result-about"],[8],[0,"\\n  "],[1,[22,"resultCount"],false],[0,"\\n  "],[1,[22,"duration"],false],[0,"\\n"],[9],[0,"\\n\\n"],[7,"br",true],[8],[9],[4,"if",[[24,["hasExplain"]]],null,{"statements":[[0,"  "],[7,"pre",true],[10,"class","result-explain"],[8],[7,"code",true],[8],[1,[24,["content","explain"]],false],[0,"\\n  "],[9],[9]],"parameters":[]},null],[0,""],[7,"br",true],[8],[9],[0,"\\n\\n"],[7,"table",true],[8],[0,"\\n  "],[7,"thead",true],[8],[0,"\\n  "],[7,"tr",true],[10,"class","headers"],[8],[0,"\\n"],[4,"each",[[24,["columnDispNames"]]],null,{"statements":[[0,"      "],[7,"th",true],[8],[1,[23,2,[]],false],[9],[0,"\\n"]],"parameters":[2]},null],[0,"  "],[9],[0,"\\n  "],[9],[0,"\\n  "],[7,"tbody",true],[8],[0,"\\n"],[4,"each",[[24,["rows"]]],null,{"statements":[[0,"    "],[1,[28,"query-row-content",null,[["row","fallbackTemplate","columnTemplates"],[[23,1,[]],[24,["fallbackTemplate"]],[24,["columnTemplates"]]]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"  "],[9],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/explorer-query-result"}}),Ember.TEMPLATES["javascripts/components/explorer-schema"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["table"],"statements":[[7,"div",true],[11,"class",[29,[[28,"if",[[24,["hideSchema"]],"hidden"],null]]]],[8],[0,"\\n  "],[1,[28,"text-field",null,[["value","placeholderKey"],[[24,["filter"]],"explorer.schema.filter"]]],false],[0,"\\n  "],[1,[28,"d-button",null,[["action","icon","class"],[[28,"action",[[23,0,[]],"collapseSchema"],null],"chevron-right","no-text"]]],false],[0,"\\n  "],[1,[28,"conditional-loading-spinner",null,[["condition"],[[24,["loading"]]]]],false],[0,"\\n  "],[7,"div",true],[10,"class","schema-container"],[8],[0,"\\n    "],[7,"ul",true],[8],[0,"\\n"],[4,"each",[[24,["filteredTables"]]],null,{"statements":[[0,"        "],[1,[28,"explorer-schema-onetable",null,[["table"],[[23,1,[]]]]],false],[0,"\\n"]],"parameters":[1]},null],[0,"    "],[9],[0,"\\n  "],[9],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/explorer-schema"}}),Ember.TEMPLATES["javascripts/components/json-file-uploader"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"div",true],[10,"class","jsfu-shade-container"],[8],[0,"\\n  "],[7,"div",true],[10,"class","jsfu-file"],[8],[0,"\\n    "],[7,"input",true],[10,"id","js-file-input"],[10,"style","display:none;"],[11,"accept",[22,"accept"]],[10,"type","file"],[8],[9],[0,"\\n    "],[1,[28,"d-button",null,[["class","action","class","icon","label"],["fileSelect",[28,"action",[[23,0,[]],"selectFile"],null],"","upload","upload_selector.select_file"]]],false],[0,"\\n    "],[1,[28,"conditional-loading-spinner",null,[["condition","size"],[[24,["loading"]],"small"]]],false],[0,"\\n  "],[9],[0,"\\n  "],[7,"div",true],[10,"class","jsfu-separator"],[8],[0,"\\n    "],[7,"small",true],[8],[0,"\\n      "],[1,[28,"i18n",["alternation"],null],false],[0,"\\n    "],[9],[0,"\\n  "],[9],[0,"\\n  "],[7,"div",true],[10,"class","jsfu-paste"],[8],[0,"\\n    "],[1,[28,"textarea",null,[["value"],[[24,["value"]]]]],false],[0,"\\n  "],[9],[0,"\\n  "],[7,"div",true],[11,"class",[29,["jsfu-shade ",[28,"if",[[24,["hover"]],"","hidden"],null]]]],[8],[7,"span",true],[10,"class","text"],[8],[1,[28,"d-icon",["upload"],null],false],[9],[9],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/json-file-uploader"}}),Ember.TEMPLATES["javascripts/components/share-report"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"div",true],[11,"onclick",[28,"action",[[23,0,[]],"open"],null]],[8],[0,"\\n  "],[1,[28,"d-icon",["link"],null],false],[0,"\\n  "],[1,[22,"group"],false],[0,"\\n"],[9],[0,"\\n"],[4,"if",[[24,["visible"]]],null,{"statements":[[0,"  "],[7,"div",true],[10,"class","popup"],[8],[0,"\\n    "],[7,"label",true],[8],[1,[28,"i18n",["explorer.link"],null],false],[0," "],[1,[22,"group"],false],[9],[0,"\\n    "],[7,"input",true],[11,"value",[22,"link"]],[10,"type","text"],[8],[9],[0,"\\n    "],[1,[28,"d-button",null,[["action","class","icon","aria-label","title"],["close","btn-flat close","times","share.close","share.close"]]],false],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/share-report"}}),Ember.TEMPLATES["javascripts/components/query-row-content"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[22,"rowContents"],false],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/query-row-content"}}),Ember.TEMPLATES["javascripts/components/group-reports-nav-item"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["showReportsTab"]]],null,{"statements":[[0,"  "],[7,"ul",true],[10,"class","nav-pills"],[8],[0,"\\n    "],[7,"li",true],[8],[0,"\\n"],[4,"link-to",null,[["route"],["group.reports"]],{"statements":[[0,"        "],[1,[28,"i18n",["group.reports"],null],false],[0,"\\n"]],"parameters":[]},null],[0,"    "],[9],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/group-reports-nav-item"}}),Ember.TEMPLATES["javascripts/components/hljs-code-view"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[7,"pre",true],[8],[7,"code",true],[11,"class",[22,"codeClass"]],[8],[1,[22,"value"],false],[9],[9],[0,""]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/hljs-code-view"}}),Ember.TEMPLATES["javascripts/components/explorer-schema-onetable"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["col"],"statements":[[7,"div",true],[10,"class","schema-table-name"],[8],[0,"\\n"],[4,"if",[[24,["open"]]],null,{"statements":[[0,"    "],[1,[28,"d-icon",["caret-down"],null],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"    "],[1,[28,"d-icon",["caret-right"],null],false],[0,"\\n"]],"parameters":[]}],[0,"  "],[1,[24,["table","name"]],false],[0,"\\n"],[9],[0,"\\n"],[7,"div",true],[10,"class","schema-table-cols"],[8],[0,"\\n"],[4,"if",[[24,["open"]]],null,{"statements":[[0,"    "],[7,"dl",true],[8],[0,"\\n"],[4,"each",[[24,["table","columns"]]],null,{"statements":[[0,"      "],[7,"div",true],[8],[0,"\\n      "],[7,"dt",true],[11,"class",[29,[[28,"if",[[23,1,["sensitive"]],"sensitive"],null]]]],[11,"title",[29,[[28,"if",[[23,1,["sensitive"]],[28,"i18n",["explorer.schema.sensitive"],null]],null]]]],[8],[0,"\\n"],[4,"if",[[23,1,["sensitive"]]],null,{"statements":[[0,"          "],[1,[28,"d-icon",["exclamation-triangle"],null],false],[0,"\\n"]],"parameters":[]},null],[0,"        "],[1,[23,1,["column_name"]],false],[0,"\\n      "],[9],[0,"\\n      "],[7,"dd",true],[8],[0,"\\n        "],[1,[23,1,["data_type"]],false],[0,"\\n"],[4,"if",[[23,1,["havetypeinfo"]]],null,{"statements":[[0,"          "],[7,"br",true],[8],[9],[0,"\\n"],[4,"if",[[23,1,["havepopup"]]],null,{"statements":[[0,"            "],[7,"div",true],[10,"class","popup-info"],[8],[0,"\\n              "],[1,[28,"d-icon",["info"],null],false],[0,"\\n              "],[7,"div",true],[10,"class","popup"],[8],[0,"\\n                "],[1,[23,1,["column_desc"]],false],[0,"\\n"],[4,"if",[[23,1,["enum"]]],null,{"statements":[[0,"                  "],[1,[28,"explorer-schema-enuminfo",null,[["col"],[[23,1,[]]]]],false],[0,"\\n"]],"parameters":[]},null],[0,"              "],[9],[0,"\\n            "],[9],[0,"\\n"]],"parameters":[]},null],[0,"          "],[7,"span",true],[10,"class","schema-typenotes"],[8],[0,"\\n            "],[1,[23,1,["notes"]],false],[0,"\\n          "],[9],[0,"\\n"]],"parameters":[]},null],[0,"      "],[9],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[1]},null],[0,"    "],[9],[0,"\\n"]],"parameters":[]},null],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/explorer-schema-onetable"}}),Ember.TEMPLATES["javascripts/components/explorer-schema-enuminfo"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["enum"],"statements":[[4,"each",[[24,["enuminfo"]]],null,{"statements":[[0,"  "],[7,"li",true],[11,"value",[29,[[23,1,["value"]]]]],[8],[0,"\\n    "],[1,[23,1,["name"]],false],[0,"\\n  "],[9],[0,"\\n"]],"parameters":[1]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/components/explorer-schema-enuminfo"}}),__DISCOURSE_RAW_TEMPLATES["javascripts/explorer/topic"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(e,t,n,s,r){var a,l=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <a href="'+e.escapeExpression(l(n,"get").call(null!=t?t:e.nullContext||{},"baseuri",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:2,column:11},end:{line:2,column:22}}}))+"/t/"+e.escapeExpression(l(n,"get").call(null!=t?t:e.nullContext||{},"topic.slug",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:2,column:25},end:{line:2,column:39}}}))+"/"+e.escapeExpression(l(n,"get").call(null!=t?t:e.nullContext||{},"topic.id",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:2,column:40},end:{line:2,column:52}}}))+'"\n          >'+(null!=(a=l(n,"get").call(null!=t?t:e.nullContext||{},"topic.fancy_title",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:3,column:11},end:{line:3,column:34}}}))?a:"")+"</a> ("+e.escapeExpression(l(n,"get").call(null!=t?t:e.nullContext||{},"topic.posts_count",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:3,column:40},end:{line:3,column:61}}}))+")\n"},3:function(e,t,n,s,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <a href="'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"baseuri",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:5,column:11},end:{line:5,column:22}}}))+"/t/"+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"id",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:5,column:25},end:{line:5,column:31}}}))+'">'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"id",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:5,column:33},end:{line:5,column:39}}}))+"</a>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){return null!=(r=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"if").call(null!=t?t:e.nullContext||{},"topic",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:1,column:0},end:{line:6,column:7}}}))?r:""},useData:!0}),__DISCOURSE_RAW_TEMPLATES["javascripts/explorer/reltime"]=requirejs("discourse-common/lib/raw-handlebars").template({compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression((a(n,"reltime")||t&&a(t,"reltime")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},"value",{name:"reltime",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:1,column:0},end:{line:1,column:17}}}))+"\n"},useData:!0}),__DISCOURSE_RAW_TEMPLATES["javascripts/explorer/url"]=requirejs("discourse-common/lib/raw-handlebars").template({compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"href",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:1,column:9},end:{line:1,column:17}}}))+'">'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"target",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:1,column:19},end:{line:1,column:29}}}))+"</a>\n"},useData:!0}),__DISCOURSE_RAW_TEMPLATES["javascripts/explorer/post"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(e,t,n,s,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <aside class="quote" data-post="'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"post.post_number",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:2,column:34},end:{line:2,column:54}}}))+'" data-topic="'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"post.topic_id",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:2,column:68},end:{line:2,column:85}}}))+'">\n    <div class="title">\n      <div class="quote-controls">\n        <a href="/t/via-quote/'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"post.topic_id",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:5,column:30},end:{line:5,column:47}}}))+"/"+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"post.post_number",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:5,column:48},end:{line:5,column:68}}}))+'"\n          title="go to the quoted post"\n          class="quote-other-topic">\n        </a>\n      </div>\n      <a class="result-post-link" href="/t/'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"post.topic_id",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:10,column:43},end:{line:10,column:60}}}))+"/"+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"post.post_number",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:10,column:61},end:{line:10,column:81}}}))+'">\n        '+e.escapeExpression((a(n,"avatar")||t&&a(t,"avatar")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},"post",{name:"avatar",hash:{imageSize:"tiny"},hashTypes:{imageSize:"StringLiteral"},hashContexts:{imageSize:t},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:11,column:8},end:{line:11,column:40}}}))+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"post.username",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:11,column:40},end:{line:11,column:57}}}))+":\n      </a>\n    </div>\n    <blockquote>\n      <p>\n        "+(null!=(r=a(n,"get").call(null!=t?t:e.nullContext||{},"post.excerpt",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:16,column:8},end:{line:16,column:26}}}))?r:"")+"\n      </p>\n    </blockquote>\n  </aside>\n"},3:function(e,t,n,s,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"  "+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"id",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:21,column:2},end:{line:21,column:8}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){return null!=(r=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"if").call(null!=t?t:e.nullContext||{},"post",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:1,column:0},end:{line:22,column:7}}}))?r:""},useData:!0}),__DISCOURSE_RAW_TEMPLATES["javascripts/explorer/text"]=requirejs("discourse-common/lib/raw-handlebars").template({compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"value",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:1,column:0},end:{line:1,column:9}}}))+"\n"},useData:!0}),__DISCOURSE_RAW_TEMPLATES["javascripts/explorer/user"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(e,t,n,s,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <a href="'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"baseuri",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:2,column:11},end:{line:2,column:22}}}))+"/u/"+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"user.username",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:2,column:25},end:{line:2,column:42}}}))+'/activity"\n     data-user-card="'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"user.username",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:3,column:21},end:{line:3,column:38}}}))+'">'+e.escapeExpression((a(n,"avatar")||t&&a(t,"avatar")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},"user",{name:"avatar",hash:{imageSize:"tiny"},hashTypes:{imageSize:"StringLiteral"},hashContexts:{imageSize:t},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:3,column:40},end:{line:3,column:72}}}))+" "+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"user.username",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:3,column:73},end:{line:3,column:90}}}))+"</a>\n"},3:function(e,t,n,s,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"  "+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"id",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:5,column:2},end:{line:5,column:8}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){return null!=(r=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"if").call(null!=t?t:e.nullContext||{},"user",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:1,column:0},end:{line:6,column:7}}}))?r:""},useData:!0}),__DISCOURSE_RAW_TEMPLATES["javascripts/explorer/html"]=requirejs("discourse-common/lib/raw-handlebars").template({compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){return(null!=(r=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"get").call(null!=t?t:e.nullContext||{},"value",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:1,column:0},end:{line:1,column:11}}}))?r:"")+"\n"},useData:!0}),__DISCOURSE_RAW_TEMPLATES["javascripts/explorer/badge"]=requirejs("discourse-common/lib/raw-handlebars").template({compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'<a href="'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"baseuri",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:2,column:9},end:{line:2,column:20}}}))+"/badges/"+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"badge.id",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:2,column:28},end:{line:2,column:40}}}))+"/"+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"badge.name",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:2,column:41},end:{line:2,column:55}}}))+'"\n   class="user-badge '+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"badge.badgeTypeClassName",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:3,column:21},end:{line:3,column:49}}}))+'"\n   title="'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"badge.displayDescription",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:4,column:10},end:{line:4,column:38}}}))+'"\n   data-badge-name="'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"badge.name",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:5,column:20},end:{line:5,column:34}}}))+'">'+e.escapeExpression((a(n,"icon-or-image")||t&&a(t,"icon-or-image")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},"badge.icon",{name:"icon-or-image",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:5,column:36},end:{line:5,column:64}}}))+'\n<span class="badge-display-name">'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"badge.displayName",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:6,column:33},end:{line:6,column:54}}}))+"</span></a>\n"},useData:!0}),__DISCOURSE_RAW_TEMPLATES["javascripts/explorer/group"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(e,t,n,s,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <a href="'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"baseuri",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:2,column:11},end:{line:2,column:22}}}))+"/groups/"+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"group.name",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:2,column:30},end:{line:2,column:44}}}))+'">'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"group.name",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:2,column:46},end:{line:2,column:60}}}))+"</a>\n"},3:function(e,t,n,s,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"  "+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"id",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:4,column:2},end:{line:4,column:8}}}))+"\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){return null!=(r=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"if").call(null!=t?t:e.nullContext||{},"group",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:1,column:0},end:{line:5,column:7}}}))?r:""},useData:!0}),__DISCOURSE_RAW_TEMPLATES["javascripts/explorer/category"]=requirejs("discourse-common/lib/raw-handlebars").template({1:function(e,t,n,s,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return"  "+e.escapeExpression((a(n,"category-link")||t&&a(t,"category-link")||e.hooks.helperMissing).call(null!=t?t:e.nullContext||{},"category",{name:"category-link",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:2,column:2},end:{line:2,column:28}}}))+"\n"},3:function(e,t,n,s,r){var a=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'  <a href="'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"baseuri",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:4,column:11},end:{line:4,column:22}}}))+"/t/"+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"id",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:4,column:25},end:{line:4,column:31}}}))+'">'+e.escapeExpression(a(n,"get").call(null!=t?t:e.nullContext||{},"id",{name:"get",hash:{},hashTypes:{},hashContexts:{},types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:4,column:33},end:{line:4,column:39}}}))+"</a>\n"},compiler:[8,">= 4.3.0"],main:function(e,t,n,s,r){return null!=(r=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"if").call(null!=t?t:e.nullContext||{},"category",{name:"if",hash:{},hashTypes:{},hashContexts:{},fn:e.program(1,r,0),inverse:e.program(3,r,0),types:["PathExpression"],contexts:[t],data:r,loc:{start:{line:1,column:0},end:{line:5,column:7}}}))?r:""},useData:!0}),Ember.TEMPLATES["javascripts/admin/plugins-explorer"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["query","group","err","pinfo"],"statements":[[4,"explorer-container",null,[["hideSchema","everEditing"],[[24,["hideSchema"]],[24,["everEditing"]]]],{"statements":[[4,"if",[[24,["disallow"]]],null,{"statements":[[0,"    "],[7,"h1",true],[8],[1,[28,"i18n",["explorer.admins_only"],null],false],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"unless",[[24,["selectedQueryId"]]],null,{"statements":[[0,"      "],[7,"div",true],[10,"class","query-list"],[8],[0,"\\n        "],[1,[28,"text-field",null,[["value","placeholderKey"],[[24,["search"]],"explorer.search_placeholder"]]],false],[0,"\\n        "],[1,[28,"d-button",null,[["action","icon","class"],[[28,"action",[[23,0,[]],"showCreate"],null],"plus","no-text btn-right"]]],false],[0,"\\n        "],[1,[28,"d-button",null,[["action","label","icon"],[[28,"action",[[23,0,[]],"importQuery"],null],"explorer.import.label","upload"]]],false],[0,"\\n      "],[9],[0,"\\n\\n"],[4,"if",[[24,["showCreate"]]],null,{"statements":[[0,"        "],[7,"div",true],[10,"class","query-create"],[8],[0,"\\n          "],[1,[28,"text-field",null,[["value","placeholderKey"],[[24,["newQueryName"]],"explorer.create_placeholder"]]],false],[0,"\\n          "],[1,[28,"d-button",null,[["action","disabled","label","icon"],[[28,"action",[[23,0,[]],"create"],null],[24,["createDisabled"]],"explorer.create","plus"]]],false],[0,"\\n        "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n"],[4,"if",[[24,["othersDirty"]]],null,{"statements":[[0,"        "],[7,"div",true],[10,"class","warning"],[8],[0,"\\n          "],[1,[28,"d-icon",["exclamation-triangle"],null],false],[0,"\\n          "],[1,[28,"i18n",["explorer.others_dirty"],null],false],[0,"\\n        "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"if",[[24,["model","length"]]],null,{"statements":[[4,"unless",[[24,["selectedItem","fake"]]],null,{"statements":[[0,"        "],[7,"div",true],[11,"class",[29,["query-edit ",[28,"if",[[24,["editName"]],"editing"],null]]]],[8],[0,"\\n"],[4,"if",[[24,["selectedItem"]]],null,{"statements":[[4,"if",[[24,["editing"]]],null,{"statements":[[0,"              "],[7,"div",true],[10,"class","name"],[8],[0,"\\n                  "],[1,[28,"d-button",null,[["action","icon","class"],[[28,"action",[[23,0,[]],"goHome"],null],"chevron-left","previous"]]],false],[0,"\\n                "],[7,"div",true],[10,"class","name-text-field"],[8],[0,"\\n                  "],[1,[28,"text-field",null,[["value"],[[24,["selectedItem","name"]]]]],false],[0,"\\n                "],[9],[0,"\\n              "],[9],[0,"\\n              "],[7,"div",true],[10,"class","desc"],[8],[0,"\\n                "],[1,[28,"textarea",null,[["value","placeholder"],[[24,["selectedItem","description"]],[28,"i18n",["explorer.description_placeholder"],null]]]],false],[0,"\\n              "],[9],[0,"\\n\\n"]],"parameters":[]},{"statements":[[0,"              "],[7,"div",true],[10,"class","name"],[8],[0,"\\n                "],[1,[28,"d-button",null,[["action","icon","class"],[[28,"action",[[23,0,[]],"goHome"],null],"chevron-left","previous"]]],false],[0,"\\n                "],[7,"h1",true],[8],[1,[24,["selectedItem","name"]],false],[0,"\\n"],[4,"unless",[[24,["editDisabled"]]],null,{"statements":[[0,"                    "],[7,"a",false],[3,"action",[[23,0,[]],"editName"],[["class"],["edit-query-name"]]],[8],[1,[28,"d-icon",["pencil-alt"],null],false],[9],[0,"\\n"]],"parameters":[]},null],[0,"                "],[9],[0,"\\n              "],[9],[0,"\\n              "],[7,"div",true],[10,"class","desc"],[8],[0,"\\n                "],[1,[24,["selectedItem","description"]],false],[0,"\\n              "],[9],[0,"\\n"]],"parameters":[]}],[0,"\\n            "],[7,"div",true],[10,"class","groups"],[8],[0,"\\n              "],[7,"span",true],[10,"class","label"],[8],[1,[28,"i18n",["explorer.allow_groups"],null],false],[9],[0,"\\n              "],[7,"span",true],[8],[0,"\\n                "],[1,[28,"multi-select",null,[["value","content","allowAny","onSelect"],[[24,["selectedItem","group_ids"]],[24,["groupOptions"]],false,[28,"action",[[23,0,[]],[28,"mut",[[24,["selectedItem","group_ids"]]],null]],null]]]],false],[0,"\\n              "],[9],[0,"\\n"],[4,"if",[[24,["runDisabled"]]],null,{"statements":[[4,"unless",[[24,["editing"]]],null,{"statements":[[0,"                "],[7,"span",true],[10,"class","setting-controls"],[8],[0,"\\n                  "],[1,[28,"d-button",null,[["class","action","icon"],["ok",[28,"action",[[23,0,[]],"save"],null],"check"]]],false],[0,"\\n                  "],[1,[28,"d-button",null,[["class","action","icon"],["cancel",[28,"action",[[23,0,[]],"discard"],null],"times"]]],false],[0,"\\n                "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"            "],[9],[0,"\\n"],[4,"if",[[24,["everEditing"]]],null,{"statements":[[0,"              "],[7,"div",true],[11,"class",[29,["query-editor ",[28,"if",[[24,["hideSchema"]],"no-schema"],null]]]],[8],[0,"\\n                "],[7,"div",true],[10,"class","panels-flex"],[8],[0,"\\n                  "],[7,"div",true],[10,"class","editor-panel"],[8],[0,"\\n                    "],[1,[28,"ace-editor",null,[["content","mode"],[[24,["selectedItem","sql"]],"sql"]]],false],[0,"\\n                  "],[9],[0,"\\n                  "],[7,"div",true],[10,"class","right-panel"],[8],[0,"\\n"],[4,"if",[[24,["hideSchema"]]],null,{"statements":[[0,"                      "],[1,[28,"d-button",null,[["action","icon","class"],[[28,"action",[[23,0,[]],"expandSchema"],null],"chevron-left","no-text unhide"]]],false],[0,"\\n"]],"parameters":[]},null],[0,"                    "],[7,"div",true],[10,"class","schema"],[8],[0,"\\n                      "],[1,[28,"explorer-schema",null,[["schema","hideSchema"],[[24,["schema"]],[24,["hideSchema"]]]]],false],[0,"\\n                    "],[9],[0,"\\n                  "],[9],[0,"\\n                "],[9],[0,"\\n                "],[7,"div",true],[10,"class","grippie"],[8],[0,"\\n                  "],[1,[28,"d-icon",["discourse-expand"],null],false],[0,"\\n                "],[9],[0,"\\n                "],[7,"div",true],[10,"class","clear"],[8],[9],[0,"\\n              "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[7,"div",true],[10,"class","sql"],[8],[0,"\\n                "],[1,[28,"hljs-code-view",null,[["value","codeClass"],[[24,["selectedItem","sql"]],"sql"]]],false],[0,"\\n              "],[9],[0,"\\n"]],"parameters":[]}],[0,"\\n            "],[7,"div",true],[10,"class","clear"],[8],[9],[0,"\\n\\n            "],[7,"div",true],[10,"class","pull-left"],[8],[0,"\\n"],[4,"if",[[24,["everEditing"]]],null,{"statements":[[0,"                "],[1,[28,"d-button",null,[["action","label","disabled"],[[28,"action",[[23,0,[]],"save"],null],"explorer.save",[24,["saveDisable"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"unless",[[24,["editDisabled"]]],null,{"statements":[[0,"                  "],[1,[28,"d-button",null,[["action","label","icon"],[[28,"action",[[23,0,[]],"editName"],null],"explorer.edit","pencil-alt"]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}],[0,"              "],[1,[28,"d-button",null,[["action","label","disabled","icon"],[[28,"action",[[23,0,[]],"download"],null],"explorer.export",[24,["runDisabled"]],"download"]]],false],[0,"\\n            "],[9],[0,"\\n            "],[7,"div",true],[10,"class","pull-right"],[8],[0,"\\n"],[4,"if",[[24,["selectedItem","destroyed"]]],null,{"statements":[[0,"                "],[1,[28,"d-button",null,[["action","class","icon","label"],[[28,"action",[[23,0,[]],"recover"],null],"","undo","explorer.recover"]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[24,["everEditing"]]],null,{"statements":[[0,"                  "],[1,[28,"d-button",null,[["action","icon","label","disabled"],[[28,"action",[[23,0,[]],"discard"],null],"undo","explorer.undo",[24,["saveDisabled"]]]]],false],[0,"\\n"]],"parameters":[]},null],[4,"unless",[[24,["editDisabled"]]],null,{"statements":[[0,"                  "],[1,[28,"d-button",null,[["action","class","icon","label"],[[28,"action",[[23,0,[]],"destroy"],null],"btn-danger","trash-alt","explorer.delete"]]],false],[0,"\\n"]],"parameters":[]},null]],"parameters":[]}],[0,"            "],[9],[0,"\\n            "],[7,"div",true],[10,"class","clear"],[8],[9],[0,"\\n"]],"parameters":[]},null],[0,"        "],[9],[0,"\\n\\n        "],[7,"form",false],[12,"class","query-run"],[3,"action",[[23,0,[]],"run"],[["on"],["submit"]]],[8],[0,"\\n"],[4,"if",[[24,["selectedItem","hasParams"]]],null,{"statements":[[0,"            "],[7,"div",true],[10,"class","query-params"],[8],[0,"\\n"],[4,"each",[[24,["selectedItem","param_info"]]],null,{"statements":[[0,"                "],[1,[28,"param-input",null,[["params","info"],[[24,["selectedItem","params"]],[23,4,[]]]]],false],[0,"\\n"]],"parameters":[4]},null],[0,"            "],[9],[0,"\\n"]],"parameters":[]},null],[4,"if",[[24,["runDisabled"]]],null,{"statements":[[4,"if",[[24,["saveDisabled"]]],null,{"statements":[[0,"              "],[1,[28,"d-button",null,[["label","disabled","class"],["explorer.run","true","btn-primary"]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"              "],[1,[28,"d-button",null,[["action","icon","label","class"],[[28,"action",[[23,0,[]],"saverun"],null],"play","explorer.saverun","btn-primary"]]],false],[0,"\\n"]],"parameters":[]}]],"parameters":[]},{"statements":[[0,"            "],[1,[28,"d-button",null,[["action","icon","label","disabled","class","type"],[[28,"action",[[23,0,[]],"run"],null],"play","explorer.run",[24,["runDisabled"]],"btn-primary","submit"]]],false],[0,"\\n"]],"parameters":[]}],[0,"          "],[7,"label",true],[10,"class","query-plan"],[8],[1,[28,"input",null,[["type","checked","name"],["checkbox",[24,["explain"]],"explain"]]],false],[0," "],[1,[28,"i18n",["explorer.explain_label"],null],false],[9],[0,"\\n        "],[9],[0,"\\n\\n        "],[7,"hr",true],[8],[9],[0,"\\n"]],"parameters":[]},null],[0,"      "],[1,[28,"conditional-loading-spinner",null,[["condition"],[[24,["loading"]]]]],false],[0,"\\n"],[4,"unless",[[24,["selectedItem","fake"]]],null,{"statements":[[4,"if",[[24,["results"]]],null,{"statements":[[0,"          "],[7,"div",true],[10,"class","query-results"],[8],[0,"\\n"],[4,"if",[[24,["showResults"]]],null,{"statements":[[0,"              "],[1,[28,"query-result",null,[["query","content"],[[24,["selectedItem"]],[24,["results"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[4,"each",[[24,["results","errors"]]],null,{"statements":[[0,"                "],[7,"pre",true],[10,"class","query-error"],[8],[7,"code",true],[8],[1,[23,3,[]],false],[9],[9],[0,""]],"parameters":[3]},null]],"parameters":[]}],[0,"          "],[9],[0,"\\n"]],"parameters":[]},null]],"parameters":[]},null],[0,"\\n"],[4,"if",[[24,["showRecentQueries"]]],null,{"statements":[[0,"      "],[7,"div",true],[10,"class","container"],[8],[0,"\\n        "],[7,"table",true],[10,"class","recent-queries"],[8],[0,"\\n          "],[7,"thead",true],[10,"class","heading-container"],[8],[0,"\\n            "],[7,"th",true],[10,"class","col heading name"],[8],[0,"\\n              "],[7,"div",false],[12,"class","heading-toggle"],[3,"action",[[23,0,[]],"sortByProperty","name"]],[8],[0,"\\n                "],[1,[28,"table-header-toggle",null,[["field","labelKey","order","asc"],["name","explorer.query_name",[24,["order"]],[24,["asc"]]]]],false],[0,"\\n              "],[9],[0,"\\n            "],[9],[0,"\\n            "],[7,"th",true],[10,"class","col heading created-by"],[8],[0,"\\n              "],[7,"div",false],[12,"class","heading-toggle"],[3,"action",[[23,0,[]],"sortByProperty","username"]],[8],[0,"\\n                "],[1,[28,"table-header-toggle",null,[["field","labelKey","order","asc"],["username","explorer.query_user",[24,["order"]],[24,["asc"]]]]],false],[0,"\\n              "],[9],[0,"\\n            "],[9],[0,"\\n            "],[7,"th",true],[10,"class","col heading group-names"],[8],[0,"\\n              "],[7,"div",true],[10,"class","group-names-header"],[8],[0,"\\n                "],[1,[28,"i18n",["explorer.query_groups"],null],false],[0,"\\n              "],[9],[0,"\\n            "],[9],[0,"\\n            "],[7,"th",true],[10,"class","col heading created-at"],[8],[0,"\\n              "],[7,"div",false],[12,"class","heading-toggle"],[3,"action",[[23,0,[]],"sortByProperty","last_run_at"]],[8],[0,"\\n                "],[1,[28,"table-header-toggle",null,[["field","labelKey","order","asc"],["last_run_at","explorer.query_time",[24,["order"]],[24,["asc"]]]]],false],[0,"\\n              "],[9],[0,"\\n            "],[9],[0,"\\n          "],[9],[0,"\\n          "],[7,"tr",true],[8],[9],[0,"\\n          "],[7,"tbody",true],[8],[0,"\\n"],[4,"each",[[24,["filteredContent"]]],null,{"statements":[[0,"              "],[7,"tr",true],[10,"class","query-row"],[8],[0,"\\n                "],[7,"td",true],[8],[0,"\\n                  "],[7,"a",false],[12,"href",[29,["/admin/plugins/explorer/?id=",[23,1,["id"]]]]],[3,"action",[[23,0,[]],"scrollTop"]],[8],[0,"\\n                    "],[7,"b",true],[10,"class","query-name"],[8],[1,[23,1,["name"]],false],[9],[0,"\\n                    "],[7,"medium",true],[10,"class","query-desc"],[8],[1,[23,1,["description"]],false],[9],[0,"\\n                  "],[9],[0,"\\n                "],[9],[0,"\\n                "],[7,"td",true],[10,"class","query-created-by"],[8],[0,"\\n"],[4,"if",[[23,1,["username"]]],null,{"statements":[[0,"                    "],[7,"a",true],[11,"href",[29,["/u/",[23,1,["username"]],"/activity"]]],[8],[0,"\\n                      "],[7,"medium",true],[8],[1,[23,1,["username"]],false],[9],[0,"\\n                    "],[9],[0,"\\n"]],"parameters":[]},null],[0,"                "],[9],[0,"\\n                "],[7,"td",true],[10,"class","query-group-names"],[8],[0,"\\n"],[4,"each",[[23,1,["group_names"]]],null,{"statements":[[0,"                    "],[1,[28,"share-report",null,[["group","query"],[[23,2,[]],[23,1,[]]]]],false],[0,"\\n"]],"parameters":[2]},null],[0,"                "],[9],[0,"\\n                "],[7,"td",true],[10,"class","query-created-at"],[8],[0,"\\n"],[4,"if",[[23,1,["last_run_at"]]],null,{"statements":[[0,"                    "],[7,"medium",true],[8],[0,"\\n                      "],[1,[28,"bound-date",[[23,1,["last_run_at"]]],null],false],[0,"\\n                    "],[9],[0,"\\n"]],"parameters":[]},{"statements":[[4,"if",[[23,1,["created_at"]]],null,{"statements":[[0,"                    "],[7,"medium",true],[8],[0,"\\n                      "],[1,[28,"bound-date",[[23,1,["created_at"]]],null],false],[0,"\\n                    "],[9],[0,"\\n                  "]],"parameters":[]},null]],"parameters":[]}],[0,"                "],[9],[0,"\\n              "],[9],[0,"\\n"]],"parameters":[1]},{"statements":[[0,"              "],[7,"br",true],[8],[9],[0,"\\n              "],[7,"em",true],[10,"class","no-search-results"],[8],[0," "],[1,[28,"i18n",["explorer.no_search_results"],null],false],[9],[0,"\\n"]],"parameters":[]}],[0,"          "],[9],[0,"\\n        "],[9],[0,"\\n      "],[9],[0,"\\n"]],"parameters":[]},null],[0,"\\n      "],[7,"div",true],[10,"class","explorer-pad-bottom"],[8],[9],[0,"\\n\\n"]],"parameters":[]},null]],"parameters":[]}]],"parameters":[]},null]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/admin/plugins-explorer"}}),Ember.TEMPLATES["javascripts/admin/components/q-params/generic"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[28,"text-field",null,[["value"],[[24,["value"]]]]],false],[0,"\\n"],[7,"span",true],[10,"class","param-name"],[8],[1,[24,["info","identifier"]],false],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/admin/components/q-params/generic"}}),Ember.TEMPLATES["javascripts/admin/components/q-params/user_list"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[28,"user-selector",null,[["usernames"],[[24,["value"]]]]],false],[0,"\\n"],[7,"span",true],[10,"class","param-name"],[8],[1,[24,["info","identifier"]],false],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/admin/components/q-params/user_list"}}),Ember.TEMPLATES["javascripts/admin/components/q-params/string"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[28,"text-field",null,[["value","type"],[[24,["value"]],"text"]]],false],[0,"\\n"],[7,"span",true],[10,"class","param-name"],[8],[1,[24,["info","identifier"]],false],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/admin/components/q-params/string"}}),Ember.TEMPLATES["javascripts/admin/components/q-params/boolean"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[4,"if",[[24,["info","nullable"]]],null,{"statements":[[0,"  "],[1,[28,"combo-box",null,[["valueAttribute","value","nameProperty","content"],["id",[24,["value"]],"name",[24,["boolTypes"]]]]],false],[0,"\\n"]],"parameters":[]},{"statements":[[0,"  "],[1,[28,"input",null,[["type","checked"],["checkbox",[24,["valueBool"]]]]],false],[0,"\\n"]],"parameters":[]}],[7,"span",true],[10,"class","param-name"],[8],[1,[24,["info","identifier"]],false],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/admin/components/q-params/boolean"}}),Ember.TEMPLATES["javascripts/admin/components/q-params/user_id"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[28,"user-selector",null,[["usernames","single"],[[24,["value"]],"true"]]],false],[0,"\\n"],[7,"span",true],[10,"class","param-name"],[8],[1,[24,["info","identifier"]],false],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/admin/components/q-params/user_id"}}),Ember.TEMPLATES["javascripts/admin/components/q-params/int"]=Ember.HTMLBars.template({id:null,block:'{"symbols":[],"statements":[[1,[28,"input",null,[["type","value"],["number",[24,["value"]]]]],false],[0,"\\n"],[7,"span",true],[10,"class","param-name"],[8],[1,[24,["info","identifier"]],false],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/admin/components/q-params/int"}}),Ember.TEMPLATES["javascripts/group-reports-index"]=Ember.HTMLBars.template({id:null,block:'{"symbols":["query"],"statements":[[7,"section",true],[10,"class","user-content"],[8],[0,"\\n  "],[7,"table",true],[10,"class","group-reports"],[8],[0,"\\n    "],[7,"thead",true],[8],[0,"\\n      "],[7,"th",true],[8],[0,"\\n        "],[1,[28,"i18n",["explorer.report_name"],null],false],[0,"\\n      "],[9],[0,"\\n      "],[7,"th",true],[8],[0,"\\n        "],[1,[28,"i18n",["explorer.query_description"],null],false],[0,"\\n      "],[9],[0,"\\n      "],[7,"th",true],[8],[0,"\\n        "],[1,[28,"i18n",["explorer.query_time"],null],false],[0,"\\n      "],[9],[0,"\\n    "],[9],[0,"\\n    "],[7,"tr",true],[8],[9],[0,"\\n    "],[7,"tbody",true],[8],[0,"\\n"],[4,"each",[[24,["queries"]]],null,{"statements":[[0,"        "],[7,"tr",true],[8],[0,"\\n          "],[7,"td",true],[8],[0,"\\n            "],[4,"link-to",null,[["route","models"],["group.reports.show",[28,"array",[[24,["group","name"]],[23,1,["id"]]],null]]],{"statements":[[1,[23,1,["name"]],false]],"parameters":[]},null],[0,"\\n          "],[9],[0,"\\n          "],[7,"td",true],[8],[1,[23,1,["description"]],false],[9],[0,"\\n          "],[7,"td",true],[8],[0,"\\n"],[4,"if",[[23,1,["last_run_at"]]],null,{"statements":[[0,"              "],[1,[28,"bound-date",[[23,1,["last_run_at"]]],null],false],[0,"\\n"]],"parameters":[]},null],[0,"          "],[9],[0,"\\n        "],[9],[0,"\\n"]],"parameters":[1]},null],[0,"    "],[9],[0,"\\n  "],[9],[0,"\\n"],[9],[0,"\\n"]],"hasEval":false}',meta:{moduleName:"javascripts/discourse/templates/group-reports-index"}}),define("discourse/plugins/discourse-data-explorer/discourse/components/json-file-uploader",["exports","discourse-common/utils/decorators"],function(e,t){"use strict";var n,s,r;function a(n,s,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(n,s,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(n,s,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=Ember.Component.extend((n=(0,t.on)("didInsertElement"),s=(0,t.default)("extension"),r=(0,t.observes)("destination","expectedRootObjectName"),a(t={fileInput:null,loading:!1,expectedRootObjectName:null,hover:0,classNames:["json-uploader"],_initialize:function(){var t=this,e=$(this.element),n=this.element.querySelector("#js-file-input");this.set("fileInput",n),$(n).on("change",function(){return t.fileSelected(n.files)}),e.on("dragover",function(e){return e.preventDefault&&e.preventDefault(),!1}),e.on("dragenter",function(e){return e.preventDefault&&e.preventDefault(),t.set("hover",t.hover+1),!1}),e.on("dragleave",function(e){return e.preventDefault&&e.preventDefault(),t.set("hover",t.hover-1),!1}),e.on("drop",function(e){return e.preventDefault&&e.preventDefault(),t.set("hover",0),t.fileSelected(e.dataTransfer.files),!1})},accept:function(e){return".json,application/json,application/x-javascript,text/json"+(e?",".concat(e):"")},setReady:function(){var e;try{e=JSON.parse(this.value)}catch(e){return void this.set("ready",!1)}var t=e[this.expectedRootObjectName];null!=t?this.set("ready",!0):this.set("ready",!1)},actions:{selectFile:function(){$(this.fileInput).click()}},fileSelected:function(e){for(var t=this,n=[],s=0;s<e.length;s++)n[s]=e[s];var r=/\.(json|txt)$/,a=(n=n.filter(function(e){return!!r.test(e.name)||"text/plain"===e.type}))[0];this.set("loading",!0);var l=new FileReader;l.onload=function(e){t.setProperties({value:e.target.result,loading:!1})},l.readAsText(a)}},"_initialize",[n],Object.getOwnPropertyDescriptor(t,"_initialize"),t),a(t,"accept",[s],Object.getOwnPropertyDescriptor(t,"accept"),t),a(t,"setReady",[r],Object.getOwnPropertyDescriptor(t,"setReady"),t),t));e.default=t}),define("discourse/plugins/discourse-data-explorer/discourse/components/query-result",["exports","I18n","discourse/lib/ajax","discourse-common/lib/get-url","discourse/models/badge","discourse-common/utils/decorators"],function(e,t,r,a,n,s){"use strict";var l,o,i,u,c,d,p,m,f,h;function b(n,s,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(n,s,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(n,s,a),a=null),a}function y(e,t){var n={};return e.forEach(function(e){n[e.id]=t?t.create(e):e}),n}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var g=Ember.Component.extend((l=(0,s.default)("content.result_count"),o=(0,s.default)("content.duration"),i=(0,s.default)("params.[]"),u=(0,s.default)("content","columns.[]"),c=(0,s.default)("content","columns.[]"),d=(0,s.default)("content.relations.user"),p=(0,s.default)("content.relations.badge"),m=(0,s.default)("content.relations.post"),f=(0,s.default)("content.relations.topic"),h=(0,s.default)("site.groups"),b(g={layoutName:"explorer-query-result",rows:Ember.computed.alias("content.rows"),columns:Ember.computed.alias("content.columns"),params:Ember.computed.alias("content.params"),explainText:Ember.computed.alias("content.explain"),hasExplain:Ember.computed.notEmpty("content.explain"),init:function(){this._super.apply(this,arguments),window.__DISCOURSE_RAW_TEMPLATES?this.findRawTemplate=requirejs("discourse-common/lib/raw-templates").findRawTemplate:this.findRawTemplate=requirejs("discourse/lib/raw-templates").findRawTemplate},resultCount:function(e){return e===this.get("content.default_limit")?t.default.t("explorer.max_result_count",{count:e}):t.default.t("explorer.result_count",{count:e})},colCount:Ember.computed.reads("content.columns.length"),duration:function(e){return t.default.t("explorer.run_time",{value:t.default.toNumber(e,{precision:1})})},parameterAry:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push({key:t,value:e[t]});return n},columnDispNames:function(e,t){return t?t.map(function(e){if(e.endsWith("_id"))return e.slice(0,-3);var t=e.indexOf("$");return 0<=t?e.substring(t+1):e}):[]},fallbackTemplate:function(){return this.findRawTemplate("javascripts/explorer/text")},columnTemplates:function(e,t){var s=this;return t?t.map(function(e,t){var n="text";return s.get("content.colrender")[t]&&(n=s.get("content.colrender")[t]),{name:n,template:s.findRawTemplate("javascripts/explorer/".concat(n))}}):[]},transformedUserTable:function(e){return y(e)},transformedBadgeTable:function(e){return y(e,n.default)},transformedPostTable:function(e){return y(e)},transformedTopicTable:function(e){return y(e)},transformedGroupTable:function(e){return y(e)},lookupUser:function(e){return this.transformedUserTable[e]},lookupBadge:function(e){return this.transformedBadgeTable[e]},lookupPost:function(e){return this.transformedPostTable[e]},lookupTopic:function(e){return this.transformedTopicTable[e]},lookupGroup:function(e){return this.transformedGroupTable[e]},lookupCategory:function(e){return this.site.get("categoriesById")[e]},download_url:function(){return this.group?"/g/".concat(this.group.name,"/reports/"):"/admin/plugins/explorer/queries/"},downloadResult:function(e){var t="xxxxxxxx".replace(/[xy]/g,function(){return(16*Math.random()|0).toString(16)});window.open("data:text/html;base64,"+btoa("<style>body{font-size:36px;display:flex;justify-content:center;align-items:center;}</style><body>Click anywhere to close this window once the download finishes.<script>window.onclick=function(){window.close()};<\/script>"),t);var s=document.createElement("form");function n(e,t){var n=document.createElement("input");n.setAttribute("name",e),n.setAttribute("value",t),s.appendChild(n)}s.setAttribute("id","query-download-result"),s.setAttribute("method","post"),s.setAttribute("action",(0,a.default)(this.download_url()+this.get("query.id")+"/run."+e+"?download=1")),s.setAttribute("target",t),s.setAttribute("style","display:none;"),n("params",JSON.stringify(this.params)),n("explain",this.hasExplain),n("limit","1000000"),(0,r.ajax)("/session/csrf.json").then(function(e){n("authenticity_token",e.csrf),document.body.appendChild(s),s.submit(),Ember.run.schedule("afterRender",function(){return document.body.removeChild(s)})})},actions:{downloadResultJson:function(){this.downloadResult("json")},downloadResultCsv:function(){this.downloadResult("csv")}}},"resultCount",[l],Object.getOwnPropertyDescriptor(g,"resultCount"),g),b(g,"duration",[o],Object.getOwnPropertyDescriptor(g,"duration"),g),b(g,"parameterAry",[i],Object.getOwnPropertyDescriptor(g,"parameterAry"),g),b(g,"columnDispNames",[u],Object.getOwnPropertyDescriptor(g,"columnDispNames"),g),b(g,"fallbackTemplate",[s.default],Object.getOwnPropertyDescriptor(g,"fallbackTemplate"),g),b(g,"columnTemplates",[c],Object.getOwnPropertyDescriptor(g,"columnTemplates"),g),b(g,"transformedUserTable",[d],Object.getOwnPropertyDescriptor(g,"transformedUserTable"),g),b(g,"transformedBadgeTable",[p],Object.getOwnPropertyDescriptor(g,"transformedBadgeTable"),g),b(g,"transformedPostTable",[m],Object.getOwnPropertyDescriptor(g,"transformedPostTable"),g),b(g,"transformedTopicTable",[f],Object.getOwnPropertyDescriptor(g,"transformedTopicTable"),g),b(g,"transformedGroupTable",[h],Object.getOwnPropertyDescriptor(g,"transformedGroupTable"),g),g));e.default=g}),define("discourse/plugins/discourse-data-explorer/discourse/components/explorer-container",["exports","discourse-common/utils/decorators"],function(e,t){"use strict";var n,s;function r(n,s,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(n,s,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(n,s,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=Ember.Component.extend((n=(0,t.observes)("hideSchema"),s=(0,t.observes)("everEditing"),r(t={_onHideSchema:function(){this.appEvents.trigger("ace:resize")},_onInsertEditor:function(){var e=this;Ember.run.schedule("afterRender",this,function(){return e._bindControls()})},_bindControls:function(){var e,t,n,s,r,a,l,o,i,u,c=this;"inDOM"!==this._state||(e=$(".query-editor")).length&&((t=this.grippie)&&t.off("mousedown mousemove mouseup"),n=e.find(".grippie"),s=e.find(".panels-flex"),r=$(document),a=s.width(),l=s.height(),this.set("grippie",n),o=function(e){var t=c.startY-e.screenY,e=c.startX-e.screenX,t=Math.max(l,c.startHeight-t),e=Math.max(a,c.startWidth-e);s.height(t),s.width(e),n.width(e),c.appEvents.trigger("ace:resize")},i=function(e){e.preventDefault(),Ember.run.throttle(c,o,e,20)}.bind(this),u=function(){r.off("mousemove",i),r.off("mouseup",u),c.setProperties({startY:null,startX:null,startHeight:null,startWidth:null})}.bind(this),n.on("mousedown",function(e){c.setProperties({startY:e.screenY,startX:e.screenX,startHeight:s.height(),startWidth:s.width()}),r.on("mousemove",i),r.on("mouseup",u),e.preventDefault()}))},didInsertElement:function(){this._super.apply(this,arguments),this._bindControls()},willDestroyElement:function(){this._super.apply(this,arguments),this.everEditing&&(this.grippie&&this.grippie.off("mousedown"),this.set("grippie",null))}},"_onHideSchema",[n],Object.getOwnPropertyDescriptor(t,"_onHideSchema"),t),r(t,"_onInsertEditor",[s],Object.getOwnPropertyDescriptor(t,"_onInsertEditor"),t),t));e.default=t}),define("discourse/plugins/discourse-data-explorer/discourse/components/explorer-schema",["exports","discourse-common/utils/decorators","discourse-common/lib/debounce","@ember/runloop"],function(e,t,n,s){"use strict";var r,a,l,o;function i(n,s,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(n,s,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(n,s,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=Ember.Component.extend((r=(0,t.default)("schema"),a=(0,t.default)("filter"),l=(0,t.observes)("filter"),o=(0,t.observes)("filter"),i(t={actions:{collapseSchema:function(){this.set("hideSchema",!0)}},transformedSchema:function(e){for(var t in e)e.hasOwnProperty(t)&&e[t].forEach(function(e){var t=[];e.primary&&t.push("primary key"),e.is_nullable&&t.push("null"),e.column_default&&t.push("default "+e.column_default),e.fkey_info&&t.push("fkey "+e.fkey_info),e.denormal&&t.push("denormal "+e.denormal);t=t.join(", ");t&&(e.notes=t),(e.enum||e.column_desc)&&(e.havepopup=!0),e.havetypeinfo=!!(e.notes||e.enum||e.column_desc)});return e},rfilter:function(e){if(!Ember.isBlank(e))return new RegExp(e)},filterTables:function(e){var n,s=[],r=this.rfilter,a=!!r;for(n in e)e.hasOwnProperty(n)&&(a?r.source===n||r.source+"s"===n?s.unshift({name:n,columns:e[n],open:a}):r.test(n)?s.push({name:n,columns:e[n],open:a}):function(){var t=[];e[n].forEach(function(e){r.source===e.column_name?t.unshift(e):r.test(e.column_name)&&t.push(e)}),Ember.isEmpty(t)||s.push({name:n,columns:t,open:a})}():s.push({name:n,columns:e[n],open:!1}));return s},triggerFilter:function(){(n.default||s.default)(this,function(){this.set("filteredTables",this.filterTables(this.transformedSchema)),this.set("loading",!1)},500)},setLoading:function(){this.set("loading",!0)},init:function(){this._super.apply(this,arguments),this.set("loading",!0),this.triggerFilter()}},"transformedSchema",[r],Object.getOwnPropertyDescriptor(t,"transformedSchema"),t),i(t,"rfilter",[a],Object.getOwnPropertyDescriptor(t,"rfilter"),t),i(t,"triggerFilter",[l],Object.getOwnPropertyDescriptor(t,"triggerFilter"),t),i(t,"setLoading",[o],Object.getOwnPropertyDescriptor(t,"setLoading"),t),t));e.default=t}),define("discourse/plugins/discourse-data-explorer/discourse/components/explorer-schema-onetable",["exports","discourse-common/utils/decorators"],function(e,t){"use strict";var n,s;function r(n,s,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(n,s,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(n,s,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=Ember.Component.extend((n=(0,t.on)("didInsertElement"),s=(0,t.on)("willDestroyElement"),r(t={classNameBindings:[":schema-table","open"],tagName:"li",open:Ember.computed.reads("table.open"),_bindClicks:function(){var t=this;$(this.element).find(".schema-table-name").click(function(e){t.set("table.open",!t.table.open),e.preventDefault()})},_cleanup:function(){$(this.element).find(".schema-table-name").off("click")}},"_bindClicks",[n],Object.getOwnPropertyDescriptor(t,"_bindClicks"),t),r(t,"_cleanup",[s],Object.getOwnPropertyDescriptor(t,"_cleanup"),t),t));e.default=t}),define("discourse/plugins/discourse-data-explorer/discourse/components/explorer-schema-enuminfo",["exports","discourse-common/utils/decorators"],function(e,t){"use strict";var n;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var s,r,a,l,o,i,t=Ember.Component.extend((n=(0,t.default)("col.enum"),s=t={tagName:"ol",enuminfo:function(e){var t,n=[];for(t in e)e.hasOwnProperty(t)&&n.push({value:t,name:e[t]});return n}},r="enuminfo",a=[n],l=Object.getOwnPropertyDescriptor(t,"enuminfo"),o=t,i={},Object.keys(l).forEach(function(e){i[e]=l[e]}),i.enumerable=!!i.enumerable,i.configurable=!!i.configurable,("value"in i||i.initializer)&&(i.writable=!0),i=a.slice().reverse().reduce(function(e,t){return t(s,r,e)||e},i),o&&void 0!==i.initializer&&(i.value=i.initializer?i.initializer.call(o):void 0,i.initializer=void 0),void 0===i.initializer&&(Object.defineProperty(s,r,i),i=null),t));e.default=t}),define("discourse/plugins/discourse-data-explorer/discourse/components/param-input",["exports","I18n","discourse-common/utils/decorators"],function(e,t,n){"use strict";var s,r;function a(n,s,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(n,s,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(n,s,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var o=Discourse.Category,l={int:"int",bigint:"int",boolean:"boolean",string:"generic",time:"generic",date:"generic",datetime:"generic",double:"string",user_id:"user_id",post_id:"string",topic_id:"generic",category_id:"generic",group_id:"generic",badge_id:"generic",int_list:"generic",string_list:"generic",user_list:"user_list"};t=Ember.Component.extend((s=(0,n.default)("value","info.type","info.nullable"),r=(0,n.default)("info.type"),n=(0,n.default)("layoutType"),a(t={classNameBindings:["valid:valid:invalid",":param"],boolTypes:[{name:t.default.t("explorer.types.bool.true"),id:"Y"},{name:t.default.t("explorer.types.bool.false"),id:"N"},{name:t.default.t("explorer.types.bool.null_"),id:"#null"}],value:Ember.computed("params","info.identifier",{get:function(){return this.params[this.get("info.identifier")]},set:function(e,t){return this.params[this.get("info.identifier")]=t.toString(),t}}),valueBool:Ember.computed("params","info.identifier",{get:function(){return"false"!==this.params[this.get("info.identifier")]},set:function(e,t){return t=!!t,this.params[this.get("info.identifier")]=t.toString(),t}}),valid:function(t,e,n){if(Ember.isEmpty(t))return n;var s=parseInt(t,10),r=!isNaN(s)&&s<2147483648&&-2147483649<s,a=/^\d+$/.test(t);switch(e){case"int":return/^-?\d+$/.test(t)&&r;case"bigint":return/^-?\d+$/.test(t)&&!isNaN(s);case"boolean":return/^Y|N|#null|true|false/.test(t);case"double":return!isNaN(parseFloat(t))||/^(-?)Inf(inity)?$/i.test(t)||/^(-?)NaN$/i.test(t);case"int_list":return t.split(",").every(function(e){return/^(-?\d+|null)$/.test(e.trim())});case"post_id":return a||/\d+\/\d+(\?u=.*)?$/.test(t);case"category_id":if(a||t===t.dasherize()||this.set("value",t.dasherize()),a)return!!this.site.categories.find(function(e){return e.id===s});if(/\//.test(t)){var l=/(.*)\/(.*)/.exec(t);return l?!!o.findBySlug(l[2].dasherize(),l[1].dasherize()):!1}return!!o.findBySlug(t.dasherize());case"group_id":l=this.site.get("groups");return a?!!l.find(function(e){return e.id===s}):!!l.find(function(e){return e.name===t})}return!0},layoutType:function(e){return"time"!==e&&"date"!==e||function(){try{var e=document.createElement("input");return e.attributes.type="time",e.attributes.type="date"}catch(e){return}}()?l[e]||"generic":"string"},layoutName:function(e){return"admin/components/q-params/".concat(e)}},"valid",[s],Object.getOwnPropertyDescriptor(t,"valid"),t),a(t,"layoutType",[r],Object.getOwnPropertyDescriptor(t,"layoutType"),t),a(t,"layoutName",[n],Object.getOwnPropertyDescriptor(t,"layoutName"),t),t));e.default=t}),define("discourse/plugins/discourse-data-explorer/discourse/components/query-row-content",["exports","handlebars","discourse/helpers/category-link","discourse/lib/formatter","discourse-common/lib/icon-library"],function(e,c,n,s,r){"use strict";function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],s=!0,r=!1,a=void 0;try{for(var l,o=e[Symbol.iterator]();!(s=(l=o.next()).done)&&(n.push(l.value),!t||n.length!==t);s=!0);}catch(e){r=!0,a=e}finally{try{s||null==o.return||o.return()}finally{if(r)throw a}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return a(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,s=new Array(t);n<t;n++)s[n]=e[n];return s}function t(e,t){if(e=Ember.get(t.contexts[0],e),Ember.isEmpty(e))return"";if(-1<e.indexOf("fa-")){t=(0,r.iconHTML)((0,r.convertIconClass)(e));return new c.default.SafeString(t)}return new c.default.SafeString("<img src='"+e+"'>")}function p(e,t){e=Ember.get(t.contexts[0],e);return(0,n.categoryLinkHTML)(e,{allowUncategorized:!0})}function m(e,t){e=Ember.get(t.contexts[0],e);return new c.default.SafeString((0,s.autoUpdatingRelativeAge)(new Date(e),{title:!0}))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=c.default.Utils.escapeExpression;var l=Ember.Component.extend({tagName:"tr",rowContents:null,didReceiveAttrs:function(){var l=this.row,o=this.parentView,i=this.fallbackTemplate,u={"icon-or-image":t,"category-link":p,reltime:m},e=this.columnTemplates.map(function(e,t){var n=l[t],s=parseInt(n,10),r={value:n,id:s,baseuri:"/"===Discourse.BaseUri?"":Discourse.BaseUri},a={};if(null===l[t])return"NULL";if("text"===e.name)return f(l[t]);o["lookup".concat(e.name.capitalize())]&&(r[e.name]=o["lookup".concat(e.name.capitalize())](s)),"url"===e.name&&(n=(s=d((1<(t=(n=s=t=n).split(/,(.+)/)).length&&(n=t[0],s=t[1]),[s,n]),2))[0],s=s[1],r.href=n,r.target=s),"category"!==e.name&&"badge"!==e.name&&"reltime"!==e.name||(a.helpers=u);try{return new c.default.SafeString((e.template||i)(r,a))}catch(e){return"error"}});this.set("rowContents","<td>".concat(e.join("</td><td>"),"</td>").htmlSafe())}});e.default=l}),define("discourse/plugins/discourse-data-explorer/discourse/components/share-report",["exports","discourse-common/utils/decorators"],function(e,t){"use strict";var n,s;function r(n,s,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(n,s,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(n,s,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;t=Ember.Component.extend((n=(0,t.default)("group","query"),s=(0,t.on)("init"),r(t={classNames:["share-report"],group:null,query:null,visible:!1,link:function(){return Discourse.BaseUrl+"/g/"+this.group+"/reports/"+this.query.id},_mouseDownHandler:function(e){if(this.element&&!this.isDestroying&&!this.isDestroyed&&0===$(this.element).has(e.target).length)return this.send("close"),!0},_keydownHandler:function(e){!this.element||this.isDestroying||this.isDestroyed||27===e.keyCode&&this.send("close")},_setupHandlers:function(){this._boundMouseDownHandler=Ember.run.bind(this,this._mouseDownHandler),this._boundKeydownHandler=Ember.run.bind(this,this._keydownHandler)},didInsertElement:function(){this._super.apply(this,arguments),$("html").on("mousedown.outside-share-link",this._boundMouseDownHandler).on("keydown.share-view",this._boundKeydownHandler)},willDestroyElement:function(){this._super.apply(this,arguments),$("html").off("mousedown.outside-share-link",this._boundMouseDownHandler).off("keydown.share-view",this._boundKeydownHandler)},actions:{open:function(){var e=this;this.set("visible",!0),window.setTimeout(function(){return $(e.element).find("input").select().focus()},160)},close:function(){this.set("visible",!1)}}},"link",[n],Object.getOwnPropertyDescriptor(t,"link"),t),r(t,"_setupHandlers",[s],Object.getOwnPropertyDescriptor(t,"_setupHandlers"),t),t));e.default=t}),define("discourse/plugins/discourse-data-explorer/discourse/components/group-reports-nav-item",["exports","discourse/lib/ajax"],function(e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Ember.Component.extend({group:null,showReportsTab:!1,checkForReports:function(){var t=this;return(0,n.ajax)("/g/".concat(this.group.name,"/reports")).then(function(e){return t.set("showReportsTab",0<e.queries.length)})},init:function(e){var t=this;this.set("group",e.group),(this.get("currentUser.groups")||[]).some(function(e){return e.id===t.group.id})&&this.checkForReports(),this._super(e)}});e.default=t}),define("discourse/plugins/discourse-data-explorer/discourse/controllers/import-query",["exports","discourse-common/utils/decorators","discourse/mixins/modal-functionality","discourse/lib/ajax-error"],function(e,t,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var r,a,l,o,i,u,t=Ember.Controller.extend(n.default,(n=(0,t.default)("queryFile"),t={notReady:Ember.computed.not("ready"),adminPluginsExplorer:Ember.inject.controller(),ready:function(e){var t;try{t=JSON.parse(e)}catch(e){return!1}return!!t.query},actions:{doImport:function(){var t=this,e=JSON.parse(this.queryFile).query;e.id=0,this.set("loading",!0),this.store.createRecord("query",e).save().then(function(e){t.send("closeModal"),t.set("loading",!1),t.adminPluginsExplorer.addCreatedRecord(e.target)}).catch(s.popupAjaxError)}}},r=t,a="ready",l=[n],o=Object.getOwnPropertyDescriptor(t,"ready"),i=t,u={},Object.keys(o).forEach(function(e){u[e]=o[e]}),u.enumerable=!!u.enumerable,u.configurable=!!u.configurable,("value"in u||u.initializer)&&(u.writable=!0),u=l.slice().reverse().reduce(function(e,t){return t(r,a,e)||e},u),i&&void 0!==u.initializer&&(u.value=u.initializer?u.initializer.call(i):void 0,u.initializer=void 0),void 0===u.initializer&&(Object.defineProperty(r,a,u),u=null),t));e.default=t}),define("discourse/plugins/discourse-data-explorer/discourse/controllers/group-reports-index",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Ember.Controller.extend({queries:Ember.computed.alias("model.queries")});e.default=t}),define("discourse/plugins/discourse-data-explorer/discourse/controllers/admin-plugins-explorer",["exports","discourse/lib/show-modal","discourse/plugins/discourse-data-explorer/discourse/models/query","discourse/lib/ajax-error","discourse/lib/ajax","discourse-common/utils/decorators"],function(e,t,s,r,n,a){"use strict";var l,o,i,u,c,d,p;function m(n,s,e,t,r){var a={};return Object.keys(t).forEach(function(e){a[e]=t[e]}),a.enumerable=!!a.enumerable,a.configurable=!!a.configurable,("value"in a||a.initializer)&&(a.writable=!0),a=e.slice().reverse().reduce(function(e,t){return t(n,s,e)||e},a),r&&void 0!==a.initializer&&(a.value=a.initializer?a.initializer.call(r):void 0,a.initializer=void 0),void 0===a.initializer&&(Object.defineProperty(n,s,a),a=null),a}Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var f=s.default.create({name:"No queries",fake:!0,group_ids:[]}),a=Ember.Controller.extend((l=(0,a.default)("search","sortBy"),o=(0,a.default)("newQueryName"),i=(0,a.default)("selectedQueryId"),u=(0,a.default)("selectedItem","editing"),c=(0,a.default)("groups"),d=(0,a.default)("selectedItem","selectedItem.dirty"),p=(0,a.observes)("editing"),m(a={queryParams:{selectedQueryId:"id"},selectedQueryId:null,editDisabled:!1,showResults:!1,hideSchema:!1,loading:!1,explain:!1,saveDisabled:Ember.computed.not("selectedItem.dirty"),runDisabled:Ember.computed.reads("selectedItem.dirty"),results:Ember.computed.reads("selectedItem.results"),asc:null,order:null,editing:!1,everEditing:!1,showRecentQueries:!0,sortBy:["last_run_at:desc"],sortedQueries:Ember.computed.sort("model","sortBy"),filteredContent:function(e){var t=new RegExp(e,"i");return this.sortedQueries.filter(function(e){return t.test(e.name)||t.test(e.description)})},createDisabled:function(e){return 0===(e||"").trim().length},selectedItem:function(e){var t=parseInt(e,10),e=this.model.findBy("id",t);return isNaN(t)?this.set("showRecentQueries",!0):this.set("showRecentQueries",!1),e||f},selectedGroupNames:function(){var e=this;return(this.selectedItem.group_ids||[]).map(function(t){return e.groupOptions.find(function(e){return e.id===t}).name}).join(", ")},groupOptions:function(e){return e.filter(function(e){return 0!==e.id}).map(function(e){return{id:e.id,name:e.name}})},othersDirty:function(t){return!!this.model.find(function(e){return e!==t&&e.dirty})},setEverEditing:function(){this.editing&&!this.everEditing&&this.set("everEditing",!0)},addCreatedRecord:function(e){this.model.pushObject(e),this.set("selectedQueryId",Ember.get(e,"id")),this.selectedItem.set("dirty",!1),this.setProperties({showResults:!1,results:null,editing:!0})},save:function(){var e=this;return this.set("loading",!0),""===this.get("selectedItem.description")&&this.set("selectedItem.description",""),this.selectedItem.save().then(function(){e.selectedItem.markNotDirty(),e.set("editing",!1)}).catch(function(e){throw(0,r.popupAjaxError)(e),e}).finally(function(){return e.set("loading",!1)})},actions:{dummy:function(){},expandSchema:function(){this.set("hideSchema",!1)},importQuery:function(){(0,t.default)("import-query"),this.set("showCreate",!1)},showCreate:function(){this.set("showCreate",!0)},editName:function(){this.set("editing",!0)},download:function(){window.open(this.get("selectedItem.downloadUrl"),"_blank")},scrollTop:function(){window.scrollTo(0,0),this.setProperties({editing:!1,everEditing:!1})},goHome:function(){this.setProperties({asc:null,order:null,showResults:!1,editDisabled:!1,selectedQueryId:null,sortBy:["last_run_at:desc"]}),this.send("refreshModel"),this.transitionToRoute("adminPlugins.explorer")},resetParams:function(){this.selectedItem.resetParams()},saveDefaults:function(){this.selectedItem.saveDefaults()},save:function(){this.save()},saverun:function(){var e=this;this.save().then(function(){return e.send("run")})},sortByProperty:function(e){this.sortBy[0]==="".concat(e,":desc")?this.set("sortBy",["".concat(e,":asc")]):this.set("sortBy",["".concat(e,":desc")])},create:function(){var t=this,e=this.newQueryName.trim();this.setProperties({loading:!0,showCreate:!1,showRecentQueries:!1}),this.store.createRecord("query",{name:e}).save().then(function(e){return t.addCreatedRecord(e.target)}).catch(r.popupAjaxError).finally(function(){return t.set("loading",!1)})},discard:function(){var n=this;this.set("loading",!0),this.store.find("query",this.get("selectedItem.id")).then(function(e){var t=n.get("selectedItem");t.setProperties(e.getProperties(s.default.updatePropertyNames)),t.group_ids&&Array.isArray(t.group_ids)||t.set("group_ids",[]),t.markNotDirty(),n.set("editing",!1)}).catch(r.popupAjaxError).finally(function(){return n.set("loading",!1)})},destroy:function(){var e=this,t=this.selectedItem;this.setProperties({loading:!0,showResults:!1}),this.store.destroyRecord("query",t).then(function(){return t.set("destroyed",!0)}).catch(r.popupAjaxError).finally(function(){return e.set("loading",!1)})},recover:function(){var e=this,t=this.selectedItem;this.setProperties({loading:!0,showResults:!0}),t.save().then(function(){return t.set("destroyed",!1)}).catch(r.popupAjaxError).finally(function(){e.set("loading",!1)})},run:function(){var t=this;this.get("selectedItem.dirty")||this.runDisabled||(this.setProperties({loading:!0,showResults:!1}),(0,n.ajax)("/admin/plugins/explorer/queries/"+this.get("selectedItem.id")+"/run",{type:"POST",data:{params:JSON.stringify(this.get("selectedItem.params")),explain:this.explain}}).then(function(e){t.set("results",e),e.success?t.set("showResults",!0):t.set("showResults",!1)}).catch(function(e){t.set("showResults",!1),e.jqXHR&&422===e.jqXHR.status&&e.jqXHR.responseJSON?t.set("results",e.jqXHR.responseJSON):(0,r.popupAjaxError)(e)}).finally(function(){return t.set("loading",!1)}))}}},"filteredContent",[l],Object.getOwnPropertyDescriptor(a,"filteredContent"),a),m(a,"createDisabled",[o],Object.getOwnPropertyDescriptor(a,"createDisabled"),a),m(a,"selectedItem",[i],Object.getOwnPropertyDescriptor(a,"selectedItem"),a),m(a,"selectedGroupNames",[u],Object.getOwnPropertyDescriptor(a,"selectedGroupNames"),a),m(a,"groupOptions",[c],Object.getOwnPropertyDescriptor(a,"groupOptions"),a),m(a,"othersDirty",[d],Object.getOwnPropertyDescriptor(a,"othersDirty"),a),m(a,"setEverEditing",[p],Object.getOwnPropertyDescriptor(a,"setEverEditing"),a),a));e.default=a}),define("discourse/plugins/discourse-data-explorer/discourse/controllers/group-reports-show",["exports","discourse/lib/ajax-error","discourse/lib/ajax"],function(e,n,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var t=Ember.Controller.extend({showResults:!1,explain:!1,loading:!1,results:Ember.computed.alias("model.results"),hasParams:Ember.computed.gt("model.param_info.length",0),actions:{run:function(){var t=this;this.setProperties({loading:!0,showResults:!1}),(0,s.ajax)("/g/".concat(this.get("group.name"),"/reports/").concat(this.model.id,"/run"),{type:"POST",data:{params:JSON.stringify(this.model.params),explain:this.explain}}).then(function(e){t.set("results",e),e.success&&t.set("showResults",!0)}).catch(function(e){e.jqXHR&&422===e.jqXHR.status&&e.jqXHR.responseJSON?t.set("results",e.jqXHR.responseJSON):(0,n.popupAjaxError)(e)}).finally(function(){return t.set("loading",!1)})}}});e.default=t}),define("discourse/plugins/discourse-data-explorer/discourse/explorer-route-map",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;e.default={resource:"admin.adminPlugins",path:"/plugins",map:function(){this.route("explorer")}}}),define("discourse/plugins/discourse-data-explorer/discourse/lib/binary-search",["exports"],function(e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default=function(e,t,n){var s,r=0,a=e.length-1,l=n||"id";for(;r<=a;){if(s=Math.floor((r+a)/2),Ember.get(e[s],l)===t)return s;Ember.get(e[s],l)<t?r=s+1:a=s-1}return-1}}),define("discourse/plugins/discourse-data-explorer/admin/adapters/query",["exports","admin/adapters/build-plugin"],function(e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});t=(e.default=void 0,t.default)("explorer").extend({});e.default=t});
//# sourceMappingURL=https://sjc6.discourse-cdn.com/nvidia/assets/plugins/discourse-data-explorer-1bbb9e17eda6bc23d2ac6e837f4a33219757278a3fda15d36d2f4e859ebb2c82.js.map